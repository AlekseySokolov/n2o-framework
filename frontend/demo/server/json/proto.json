{
  "src": "LeftRightPage",
  "id": "_",
  "routes": {
    "list": [
      {
        "path": "/clients/create2",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/contacts/:contacts_id/update",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/contacts/:client_id/createContact",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/clients/:clients_id/update",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/clients/:id/name",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/clients/:id/surname",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/clients/:id/view",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/clients/:id/update2",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/clients/:id/update_client",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/create",
        "exact": true,
        "isOtherPage": true
      },
      {
        "path": "/",
        "exact": true,
        "isOtherPage": false
      }
    ],
    "pathMapping": {},
    "queryMapping": {
      "left_panel_0": {
        "get": {
          "type": "n2o/regions/SET_ACTIVE_REGION_ENTITY",
          "payload": {
            "regionId": "left_panel_0",
            "activeEntity": ":left_panel_0"
          }
        },
        "set": {
          "link": "regions.left_panel_0.activeEntity"
        }
      },
      "right_panel_1": {
        "get": {
          "type": "n2o/regions/SET_ACTIVE_REGION_ENTITY",
          "payload": {
            "regionId": "right_panel_1",
            "activeEntity": ":right_panel_1"
          }
        },
        "set": {
          "link": "regions.right_panel_1.activeEntity"
        }
      },
      "right_panel_2": {
        "get": {
          "type": "n2o/regions/SET_ACTIVE_REGION_ENTITY",
          "payload": {
            "regionId": "right_panel_2",
            "activeEntity": ":right_panel_2"
          }
        },
        "set": {
          "link": "regions.right_panel_2.activeEntity"
        }
      },
      "clients_surname": {
        "get": {
          "type": "n2o/models/UPDATE",
          "payload": {
            "prefix": "filter",
            "key": "clients",
            "field": "surname",
            "value": ":clients_surname"
          }
        },
        "set": {
          "value": "`surname`",
          "observe": true,
          "required": false,
          "link": "models.filter['clients']"
        }
      },
      "clients_name": {
        "get": {
          "type": "n2o/models/UPDATE",
          "payload": {
            "prefix": "filter",
            "key": "clients",
            "field": "name",
            "value": ":clients_name"
          }
        },
        "set": {
          "value": "`name`",
          "observe": true,
          "required": false,
          "link": "models.filter['clients']"
        }
      },
      "clients_bdate_end": {
        "get": {
          "type": "n2o/models/UPDATE",
          "payload": {
            "prefix": "filter",
            "key": "clients",
            "field": "bdate.end",
            "value": ":clients_bdate_end"
          }
        },
        "set": {
          "value": "`bdate.end`",
          "observe": true,
          "required": false,
          "link": "models.filter['clients']"
        }
      },
      "clients_bdate_begin": {
        "get": {
          "type": "n2o/models/UPDATE",
          "payload": {
            "prefix": "filter",
            "key": "clients",
            "field": "bdate.begin",
            "value": ":clients_bdate_begin"
          }
        },
        "set": {
          "value": "`bdate.begin`",
          "observe": true,
          "required": false,
          "link": "models.filter['clients']"
        }
      },
      "clients_genders_id": {
        "get": {
          "type": "n2o/models/UPDATE_MAP",
          "payload": {
            "prefix": "filter",
            "key": "clients",
            "field": "genders",
            "value": ":clients_genders_id",
            "map": "id"
          }
        },
        "set": {
          "value": "`genders.map(function(t){return t.id})`",
          "observe": true,
          "required": false,
          "link": "models.filter['clients']"
        }
      },
      "clients_vip": {
        "get": {
          "type": "n2o/models/UPDATE",
          "payload": {
            "prefix": "filter",
            "key": "clients",
            "field": "vip",
            "value": ":clients_vip"
          }
        },
        "set": {
          "value": "`vip`",
          "observe": true,
          "required": false,
          "link": "models.filter['clients']"
        }
      },
      "clients_birthday": {
        "get": {
          "type": "n2o/models/UPDATE",
          "payload": {
            "prefix": "filter",
            "key": "clients",
            "field": "birthday",
            "value": ":clients_birthday"
          }
        },
        "set": {
          "value": "`birthday`",
          "observe": true,
          "required": false,
          "link": "models.filter['clients']"
        }
      },
      "sorting_clients_surname": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "clients",
            "fieldKey": "surname",
            "sortDirection": ":sorting_clients_surname"
          }
        },
        "set": {
          "link": "widgets['clients'].sorting.surname"
        }
      },
      "sorting_clients_name": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "clients",
            "fieldKey": "name",
            "sortDirection": ":sorting_clients_name"
          }
        },
        "set": {
          "link": "widgets['clients'].sorting.name"
        }
      },
      "sorting_clients_patrName": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "clients",
            "fieldKey": "patrName",
            "sortDirection": ":sorting_clients_patrName"
          }
        },
        "set": {
          "link": "widgets['clients'].sorting.patrName"
        }
      },
      "sorting_clients_birthday": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "clients",
            "fieldKey": "birthday",
            "sortDirection": ":sorting_clients_birthday"
          }
        },
        "set": {
          "link": "widgets['clients'].sorting.birthday"
        }
      },
      "sorting_clients_age": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "clients",
            "fieldKey": "age",
            "sortDirection": ":sorting_clients_age"
          }
        },
        "set": {
          "link": "widgets['clients'].sorting.age"
        }
      },
      "sorting_contacts_value": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "contacts",
            "fieldKey": "value",
            "sortDirection": ":sorting_contacts_value"
          }
        },
        "set": {
          "link": "widgets['contacts'].sorting.value"
        }
      },
      "sorting_form_surname": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "form",
            "fieldKey": "surname",
            "sortDirection": ":sorting_form_surname"
          }
        },
        "set": {
          "link": "widgets['form'].sorting.surname"
        }
      },
      "sorting_form_name": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "form",
            "fieldKey": "name",
            "sortDirection": ":sorting_form_name"
          }
        },
        "set": {
          "link": "widgets['form'].sorting.name"
        }
      },
      "sorting_form_patrName": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "form",
            "fieldKey": "patrName",
            "sortDirection": ":sorting_form_patrName"
          }
        },
        "set": {
          "link": "widgets['form'].sorting.patrName"
        }
      },
      "sorting_form_birthday": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "form",
            "fieldKey": "birthday",
            "sortDirection": ":sorting_form_birthday"
          }
        },
        "set": {
          "link": "widgets['form'].sorting.birthday"
        }
      },
      "sorting_form_age": {
        "get": {
          "type": "n2o/widgets/SORT_BY",
          "payload": {
            "widgetId": "form",
            "fieldKey": "age",
            "sortDirection": ":sorting_form_age"
          }
        },
        "set": {
          "link": "widgets['form'].sorting.age"
        }
      }
    }
  },
  "toolbar": {
    "topRight": [
      {
        "id": "topRight0",
        "buttons": [
          {
            "src": "StandardButton",
            "id": "create2",
            "label": "Добавить клиента",
            "icon": "fa fa-plus",
            "color": "primary",
            "rounded": false,
            "action": {},
            "hint": "Добавить клиента",
            "hintPosition": "bottom",
            "conditions": {},
            "validate": [
              "clients"
            ],
            "url": "/clients/create2",
            "target": "application",
            "pathMapping": {},
            "queryMapping": {}
          }
        ]
      }
    ]
  },
  "breadcrumb": [
    {
      "label": "Список контактов"
    }
  ],
  "models": {},
  "datasources": {
    "clients": {
      "id": "clients",
      "provider": {
        "url": "n2o/data/",
        "pathMapping": {},
        "queryMapping": {
          "clients_surname": {
            "value": "`surname`",
            "observe": true,
            "required": false,
            "link": "models.filter['clients']"
          },
          "clients_name": {
            "value": "`name`",
            "observe": true,
            "required": false,
            "link": "models.filter['clients']"
          },
          "clients_bdate_end": {
            "value": "`bdate.end`",
            "observe": true,
            "required": false,
            "link": "models.filter['clients']"
          },
          "clients_bdate_begin": {
            "value": "`bdate.begin`",
            "observe": true,
            "required": false,
            "link": "models.filter['clients']"
          },
          "clients_genders_id": {
            "value": "`genders.map(function(t){return t.id})`",
            "observe": true,
            "required": false,
            "link": "models.filter['clients']"
          },
          "clients_vip": {
            "value": "`vip`",
            "observe": true,
            "required": false,
            "link": "models.filter['clients']"
          },
          "clients_birthday": {
            "value": "`birthday`",
            "observe": true,
            "required": false,
            "link": "models.filter['clients']"
          }
        },
        "size": 10
      },
      "validations": {},
      "size": 10,
      "dependencies": []
    },
    "form": {
      "id": "form",
      "provider": {
        "url": "n2o/data/form/:client_id/card",
        "pathMapping": {
          "client_id": {
            "value": "`id`",
            "observe": false,
            "required": true,
            "link": "models.resolve['clients']"
          }
        },
        "queryMapping": {},
        "size": 1
      },
      "validations": {},
      "size": 1,
      "dependencies": [
        {
          "on": "models.resolve['clients']",
          "type": "fetch"
        }
      ]
    },
    "contacts": {
      "id": "contacts",
      "provider": {
        "url": "n2o/data/contacts/:client_id/list",
        "pathMapping": {
          "client_id": {
            "value": "`id`",
            "observe": false,
            "required": true,
            "link": "models.resolve['clients']"
          }
        },
        "queryMapping": {},
        "size": 10
      },
      "validations": {},
      "size": 10,
      "dependencies": [
        {
          "on": "models.resolve['clients']",
          "type": "fetch"
        }
      ]
    }
  },
  "regions": {
    "left": [
      {
        "src": "PanelRegion",
        "id": "left_panel_0",
        "content": [
          {
            "src": "AdvancedTableWidget",
            "id": "clients",
            "datasource": "clients",
            "toolbar": {
              "topLeft": [
                {
                  "id": "topLeft0",
                  "buttons": [
                    {
                      "src": "StandardButton",
                      "id": "create",
                      "label": "Создать",
                      "icon": "fa fa-plus",
                      "rounded": false,
                      "action": {
                        "type": "n2o/overlays/INSERT_MODAL",
                        "payload": {
                          "name": "create",
                          "pageId": "create",
                          "pageUrl": "/create",
                          "pathMapping": {},
                          "queryMapping": {},
                          "size": "lg",
                          "scrollable": false,
                          "closeButton": true,
                          "visible": true,
                          "prompt": true,
                          "hasHeader": true,
                          "backdrop": "static"
                        }
                      },
                      "hint": "Создать",
                      "hintPosition": "bottom",
                      "conditions": {},
                      "validate": [
                        "clients"
                      ]
                    },
                    {
                      "src": "StandardButton",
                      "id": "update_client",
                      "label": "Изменить",
                      "icon": "fa fa-pencil",
                      "rounded": false,
                      "action": {
                        "type": "n2o/overlays/INSERT_MODAL",
                        "payload": {
                          "name": "clients_update_client",
                          "pageId": "clients_update_client",
                          "pageUrl": "/clients/:id/update_client",
                          "pathMapping": {
                            "id": {
                              "value": "`id`",
                              "observe": false,
                              "required": false,
                              "link": "models.resolve['clients']"
                            }
                          },
                          "queryMapping": {},
                          "size": "lg",
                          "scrollable": false,
                          "closeButton": true,
                          "visible": true,
                          "prompt": true,
                          "hasHeader": true,
                          "backdrop": "static"
                        }
                      },
                      "hint": "Изменить",
                      "hintPosition": "bottom",
                      "conditions": {
                        "enabled": [
                          {
                            "expression": "!_.isEmpty(this)",
                            "modelLink": "models.resolve['clients']"
                          }
                        ]
                      },
                      "validate": [
                        "clients"
                      ]
                    },
                    {
                      "src": "StandardButton",
                      "id": "delete",
                      "label": "Удалить",
                      "icon": "fa fa-trash",
                      "rounded": false,
                      "action": {
                        "type": "n2o/actionImpl/START_INVOKE",
                        "payload": {
                          "dataProvider": {
                            "url": "n2o/data/clients/delete",
                            "pathMapping": {},
                            "queryMapping": {},
                            "headersMapping": {},
                            "formMapping": {},
                            "method": "POST",
                            "optimistic": false,
                            "submitForm": true
                          },
                          "datasource": "clients",
                          "model": "resolve",
                          "widgetId": "clients",
                          "pageId": "_"
                        },
                        "meta": {
                          "success": {
                            "refresh": {
                              "datasources": [
                                "clients"
                              ]
                            }
                          },
                          "fail": {}
                        }
                      },
                      "hint": "Удалить",
                      "hintPosition": "bottom",
                      "conditions": {
                        "enabled": [
                          {
                            "expression": "!_.isEmpty(this)",
                            "modelLink": "models.resolve['clients']"
                          }
                        ]
                      },
                      "confirm": {
                        "text": "`'Вы уверены, что хотите удалить клиента ' + this.surname + ' ' + this.name + '?'`",
                        "title": "Предупреждение",
                        "okLabel": "Да",
                        "cancelLabel": "Нет",
                        "modelLink": "models.resolve['clients']",
                        "condition": "`true`",
                        "mode": "modal"
                      },
                      "validate": [
                        "clients"
                      ]
                    }
                  ]
                }
              ],
              "topRight": [
                {
                  "id": "topRight0",
                  "buttons": [
                    {
                      "src": "StandardButton",
                      "id": "update2",
                      "label": "Изменить",
                      "icon": "fa fa-edit",
                      "color": "light",
                      "rounded": false,
                      "action": {},
                      "hint": "Кнопка скрывается, если в строке имя Мария",
                      "hintPosition": "bottom",
                      "conditions": {
                        "visible": [
                          {
                            "expression": "name != 'Мария'",
                            "modelLink": "models.resolve['clients']"
                          }
                        ],
                        "enabled": [
                          {
                            "expression": "!_.isEmpty(this)",
                            "modelLink": "models.resolve['clients']"
                          }
                        ]
                      },
                      "validate": [
                        "clients"
                      ],
                      "url": "/clients/:id/update2",
                      "target": "application",
                      "pathMapping": {
                        "id": {
                          "value": "`id`",
                          "observe": false,
                          "required": false,
                          "link": "models.resolve['clients']"
                        }
                      },
                      "queryMapping": {}
                    },
                    {
                      "src": "StandardButton",
                      "id": "view",
                      "label": "Просмотр",
                      "icon": "fa fa-book",
                      "color": "info",
                      "rounded": false,
                      "action": {
                        "type": "n2o/overlays/INSERT_MODAL",
                        "payload": {
                          "name": "clients_view",
                          "pageId": "clients_view",
                          "pageUrl": "/clients/:id/view",
                          "pathMapping": {
                            "id": {
                              "value": "`id`",
                              "observe": false,
                              "required": false,
                              "link": "models.resolve['clients']"
                            }
                          },
                          "queryMapping": {},
                          "size": "lg",
                          "scrollable": false,
                          "closeButton": true,
                          "visible": true,
                          "prompt": true,
                          "hasHeader": true,
                          "backdrop": "static"
                        }
                      },
                      "hint": "Кнопка блокируется, если в фильтре имя Анна",
                      "hintPosition": "right",
                      "conditions": {
                        "enabled": [
                          {
                            "expression": "!_.isEmpty(this)",
                            "modelLink": "models.resolve['clients']"
                          },
                          {
                            "expression": "name != 'Анна'",
                            "modelLink": "models.resolve['clients']"
                          }
                        ]
                      },
                      "validate": [
                        "clients"
                      ]
                    }
                  ]
                }
              ],
              "bottomRight": [
                {
                  "id": "bottomRight0",
                  "buttons": [
                    {
                      "src": "StandardButton",
                      "id": "mi5",
                      "icon": "fa fa-filter",
                      "rounded": false,
                      "action": {
                        "type": "n2o/widgets/TOGGLE_FILTER_VISIBILITY",
                        "payload": {
                          "widgetId": "clients"
                        }
                      },
                      "hint": "Изменить видимость фильтров",
                      "hintPosition": "bottom",
                      "conditions": {},
                      "validate": [
                        "clients"
                      ]
                    },
                    {
                      "src": "ToggleColumn",
                      "id": "mi6",
                      "icon": "fa fa-table",
                      "rounded": false,
                      "hint": "Изменить видимость колонок",
                      "hintPosition": "bottom",
                      "conditions": {}
                    },
                    {
                      "src": "StandardButton",
                      "id": "mi7",
                      "icon": "fa fa-refresh",
                      "rounded": false,
                      "action": {
                        "type": "n2o/datasource/DATA_REQUEST",
                        "payload": {
                          "datasource": "clients"
                        }
                      },
                      "hint": "Обновить данные",
                      "hintPosition": "bottom",
                      "conditions": {},
                      "validate": [
                        "clients"
                      ]
                    },
                    {
                      "src": "ChangeSize",
                      "id": "mi8",
                      "icon": "fa fa-bars",
                      "rounded": false,
                      "hint": "Изменить размер",
                      "hintPosition": "bottom",
                      "conditions": {}
                    }
                  ]
                }
              ]
            },
            "paging": {
              "prev": false,
              "next": false,
              "size": 10,
              "last": false,
              "first": true,
              "showCount": true,
              "showSinglePage": false,
              "layout": "separated",
              "prevIcon": "fa fa-angle-left",
              "nextIcon": "fa fa-angle-right",
              "firstIcon": "fa fa-angle-double-left",
              "lastIcon": "fa fa-angle-double-right",
              "maxPages": 5,
              "place": "bottomLeft"
            },
            "filter": {
              "filterFieldsets": [
                {
                  "src": "StandardFieldset",
                  "rows": [
                    {
                      "cols": [
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "surname",
                              "required": false,
                              "visible": true,
                              "enabled": true,
                              "label": "Фамилия",
                              "noLabelBlock": false,
                              "dependency": [],
                              "control": {
                                "src": "InputText",
                                "id": "surname"
                              }
                            }
                          ]
                        },
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "name",
                              "required": false,
                              "visible": true,
                              "enabled": true,
                              "label": "Имя",
                              "noLabelBlock": false,
                              "dependency": [],
                              "control": {
                                "src": "InputText",
                                "id": "name"
                              }
                            }
                          ]
                        },
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "bdate",
                              "required": false,
                              "visible": true,
                              "enabled": true,
                              "label": "Дата рождения",
                              "noLabelBlock": false,
                              "dependency": [],
                              "control": {
                                "src": "DateInterval",
                                "id": "bdate",
                                "dateFormat": "DD.MM.YYYY",
                                "utc": false,
                                "outputFormat": "YYYY-MM-DDTHH:mm:ss"
                              }
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "cols": [
                        {
                          "size": 10,
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "genders",
                              "required": false,
                              "visible": true,
                              "enabled": true,
                              "label": "Пол",
                              "noLabelBlock": false,
                              "dependency": [],
                              "control": {
                                "src": "CheckboxGroup",
                                "id": "genders",
                                "valueFieldId": "id",
                                "labelFieldId": "name",
                                "sortFieldId": "name",
                                "dataProvider": {
                                  "url": "n2o/data/ProtoGender",
                                  "queryMapping": {}
                                },
                                "inline": true,
                                "type": "default"
                              }
                            }
                          ]
                        },
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "vip",
                              "required": false,
                              "visible": true,
                              "enabled": true,
                              "noLabelBlock": false,
                              "dependency": [],
                              "control": {
                                "src": "Checkbox",
                                "id": "vip",
                                "label": "VIP",
                                "defaultUnchecked": "null"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "filterButtonId": "filter",
              "blackResetList": [],
              "filterPlace": "top"
            },
            "children": "collapse",
            "table": {
              "size": 10,
              "hasFocus": true,
              "hasSelect": true,
              "textWrap": true,
              "cells": [
                {
                  "id": "surname",
                  "fieldKey": "surname",
                  "src": "LinkCell",
                  "action": {},
                  "url": "/clients/:id/surname",
                  "target": "application",
                  "pathMapping": {
                    "id": {
                      "value": "`id`",
                      "observe": false,
                      "required": false,
                      "link": "models.resolve['clients']"
                    }
                  },
                  "queryMapping": {},
                  "type": "text"
                },
                {
                  "id": "name",
                  "fieldKey": "name",
                  "src": "LinkCell",
                  "action": {
                    "type": "n2o/overlays/INSERT_MODAL",
                    "payload": {
                      "name": "clients_name",
                      "pageId": "clients_name",
                      "pageUrl": "/clients/:id/name",
                      "pathMapping": {
                        "id": {
                          "value": "`id`",
                          "observe": false,
                          "required": false,
                          "link": "models.resolve['clients']"
                        }
                      },
                      "queryMapping": {},
                      "size": "lg",
                      "scrollable": false,
                      "closeButton": true,
                      "visible": true,
                      "prompt": true,
                      "hasHeader": true,
                      "backdrop": "static"
                    }
                  },
                  "type": "text"
                },
                {
                  "id": "patrName",
                  "fieldKey": "patrName",
                  "src": "LinkCell",
                  "url": "`'/clients/'+id+'/update2'`",
                  "target": "application",
                  "type": "text",
                  "visible": "`name!='Мария'`"
                },
                {
                  "id": "birthday",
                  "fieldKey": "birthday",
                  "src": "EditableCell",
                  "action": {
                    "type": "n2o/actionImpl/START_INVOKE",
                    "payload": {
                      "dataProvider": {
                        "url": "n2o/data/clients/update_birthday",
                        "pathMapping": {},
                        "queryMapping": {},
                        "headersMapping": {},
                        "formMapping": {},
                        "method": "POST",
                        "optimistic": false,
                        "submitForm": true
                      },
                      "datasource": "clients",
                      "model": "resolve",
                      "pageId": "_"
                    },
                    "meta": {
                      "success": {
                        "refresh": {
                          "datasources": [
                            "clients"
                          ]
                        }
                      },
                      "fail": {}
                    }
                  },
                  "control": {
                    "src": "DatePicker",
                    "id": "birthday",
                    "dateFormat": "DD.MM.YYYY",
                    "utc": false,
                    "outputFormat": "YYYY-MM-DDTHH:mm:ss"
                  },
                  "format": "date DD.MM.YYYY",
                  "editFieldId": "birthday",
                  "editType": "inline",
                  "editable": true
                },
                {
                  "id": "genderName",
                  "fieldKey": "genderName",
                  "src": "BadgeCell",
                  "color": "`gender.id==1?'danger':'success'`"
                },
                {
                  "id": "vip",
                  "fieldKey": "vip",
                  "src": "CheckboxCell",
                  "action": {
                    "type": "n2o/actionImpl/START_INVOKE",
                    "payload": {
                      "dataProvider": {
                        "url": "n2o/data/clients/update_vip",
                        "pathMapping": {},
                        "queryMapping": {},
                        "headersMapping": {},
                        "formMapping": {},
                        "method": "POST",
                        "optimistic": false,
                        "submitForm": true
                      },
                      "datasource": "clients",
                      "model": "resolve",
                      "pageId": "_"
                    },
                    "meta": {
                      "success": {
                        "refresh": {
                          "datasources": [
                            "clients"
                          ]
                        }
                      },
                      "fail": {}
                    }
                  },
                  "disabled": "`!(name!='Мария')`"
                },
                {
                  "id": "",
                  "fieldKey": "",
                  "src": "ButtonsCell",
                  "toolbar": [
                    {
                      "buttons": [
                        {
                          "src": "DropdownButton",
                          "id": "mi0",
                          "icon": "fa fa-ellipsis-v",
                          "color": "link",
                          "conditions": {},
                          "subMenu": [
                            {
                              "src": "StandardButton",
                              "id": "delete",
                              "label": "Удалить",
                              "icon": "fa fa-trash",
                              "rounded": false,
                              "action": {
                                "type": "n2o/actionImpl/START_INVOKE",
                                "payload": {
                                  "dataProvider": {
                                    "url": "n2o/data/clients/delete",
                                    "pathMapping": {},
                                    "queryMapping": {},
                                    "headersMapping": {},
                                    "formMapping": {},
                                    "method": "POST",
                                    "optimistic": false,
                                    "submitForm": true
                                  },
                                  "datasource": "clients",
                                  "model": "resolve",
                                  "widgetId": "clients",
                                  "pageId": "_"
                                },
                                "meta": {
                                  "success": {
                                    "refresh": {
                                      "datasources": [
                                        "clients"
                                      ]
                                    }
                                  },
                                  "fail": {}
                                }
                              },
                              "conditions": {},
                              "confirm": {
                                "text": "`'Вы уверены, что хотите удалить клиента ' + this.surname + ' ' + this.name + '?'`",
                                "title": "Предупреждение",
                                "okLabel": "Да",
                                "cancelLabel": "Нет",
                                "modelLink": "models.resolve['clients']",
                                "condition": "`true`",
                                "mode": "modal"
                              },
                              "validate": [
                                "clients"
                              ]
                            },
                            {
                              "src": "StandardButton",
                              "id": "update",
                              "label": "Изменить",
                              "icon": "fa fa-pencil",
                              "rounded": false,
                              "action": {
                                "type": "n2o/overlays/INSERT_MODAL",
                                "payload": {
                                  "name": "clients_update",
                                  "pageId": "clients_update",
                                  "pageUrl": "/clients/:clients_id/update",
                                  "pathMapping": {
                                    "clients_id": {
                                      "value": "`id`",
                                      "observe": false,
                                      "required": false,
                                      "link": "models.resolve['clients']"
                                    }
                                  },
                                  "queryMapping": {},
                                  "size": "lg",
                                  "scrollable": false,
                                  "closeButton": true,
                                  "visible": true,
                                  "prompt": true,
                                  "hasHeader": true,
                                  "backdrop": "static"
                                }
                              },
                              "conditions": {},
                              "validate": [
                                "clients"
                              ]
                            }
                          ],
                          "showToggleIcon": true
                        }
                      ]
                    }
                  ]
                }
              ],
              "headers": [
                {
                  "id": "surname",
                  "label": "Фамилия",
                  "src": "TextTableHeader",
                  "sortingParam": "surname",
                  "conditions": {}
                },
                {
                  "id": "name",
                  "label": "Имя",
                  "src": "TextTableHeader",
                  "sortingParam": "name",
                  "conditions": {}
                },
                {
                  "id": "patrName",
                  "label": "Отчество",
                  "src": "TextTableHeader",
                  "sortingParam": "patrName",
                  "conditions": {}
                },
                {
                  "id": "birthday",
                  "label": "Дата рождения",
                  "src": "TextTableHeader",
                  "sortingParam": "birthday",
                  "conditions": {}
                },
                {
                  "id": "genderName",
                  "label": "Пол",
                  "src": "TextTableHeader",
                  "conditions": {}
                },
                {
                  "id": "vip",
                  "label": "VIP",
                  "src": "TextTableHeader",
                  "conditions": {}
                },
                {
                  "id": "",
                  "src": "TextTableHeader",
                  "conditions": {}
                }
              ],
              "sorting": {
                "birthday": "ASC"
              },
              "autoCheckboxOnSelect": false,
              "rowSelection": "checkbox",
              "autoFocus": false
            }
          }
        ],
        "headerTitle": "Данные клиента",
        "open": true,
        "collapsible": false,
        "fullScreen": false,
        "header": true
      }
    ],
    "right": [
      {
        "src": "PanelRegion",
        "id": "right_panel_1",
        "content": [
          {
            "src": "ListWidget",
            "id": "contacts",
            "datasource": "contacts",
            "toolbar": {
              "topLeft": [
                {
                  "id": "topLeft0",
                  "buttons": [
                    {
                      "src": "StandardButton",
                      "id": "createContact",
                      "label": "Создать",
                      "rounded": false,
                      "action": {
                        "type": "n2o/overlays/INSERT_MODAL",
                        "payload": {
                          "name": "contacts_createContact",
                          "pageId": "contacts_createContact",
                          "pageUrl": "/contacts/:client_id/createContact",
                          "pathMapping": {
                            "client_id": {
                              "value": "`id`",
                              "observe": false,
                              "required": false,
                              "link": "models.resolve['clients']"
                            }
                          },
                          "queryMapping": {},
                          "size": "lg",
                          "scrollable": false,
                          "closeButton": true,
                          "visible": true,
                          "prompt": true,
                          "hasHeader": true,
                          "backdrop": "static"
                        }
                      },
                      "conditions": {},
                      "validate": [
                        "contacts"
                      ]
                    }
                  ]
                }
              ]
            },
            "dependency": {
              "visible": [
                {
                  "on": "models.resolve['clients']",
                  "condition": "name != 'Мария'"
                }
              ]
            },
            "list": {
              "leftTop": {
                "src": "IconCell",
                "icon": "`type.id == 2 ? 'fa fa-phone' : type.id == 4 ? 'fa fa-envelop' : type.id == 7 ? 'fa fa-fax' : null`",
                "type": "icon"
              },
              "extra": {
                "src": "ButtonsCell",
                "toolbar": [
                  {
                    "buttons": [
                      {
                        "src": "StandardButton",
                        "id": "update",
                        "label": "Изменить",
                        "icon": "fa fa-pencil",
                        "color": "link",
                        "rounded": false,
                        "action": {
                          "type": "n2o/overlays/INSERT_MODAL",
                          "payload": {
                            "name": "contacts_update",
                            "pageId": "contacts_update",
                            "pageUrl": "/contacts/:contacts_id/update",
                            "pathMapping": {
                              "contacts_id": {
                                "value": "`id`",
                                "observe": false,
                                "required": false,
                                "link": "models.resolve['contacts']"
                              }
                            },
                            "queryMapping": {},
                            "size": "lg",
                            "scrollable": false,
                            "closeButton": true,
                            "visible": true,
                            "prompt": true,
                            "hasHeader": true,
                            "backdrop": "static"
                          }
                        },
                        "conditions": {},
                        "validate": [
                          "contacts"
                        ]
                      },
                      {
                        "src": "StandardButton",
                        "id": "delete",
                        "label": "Удалить",
                        "icon": "fa fa-trash",
                        "color": "link",
                        "rounded": false,
                        "action": {
                          "type": "n2o/actionImpl/START_INVOKE",
                          "payload": {
                            "dataProvider": {
                              "url": "n2o/data/contacts/delete",
                              "pathMapping": {},
                              "queryMapping": {},
                              "headersMapping": {},
                              "formMapping": {},
                              "method": "POST",
                              "optimistic": false,
                              "submitForm": true
                            },
                            "datasource": "contacts",
                            "model": "resolve",
                            "widgetId": "contacts",
                            "pageId": "_"
                          },
                          "meta": {
                            "success": {
                              "refresh": {
                                "datasources": [
                                  "contacts"
                                ]
                              }
                            },
                            "fail": {}
                          }
                        },
                        "conditions": {},
                        "confirm": {
                          "text": "Нажмите \"Да\", если Вы уверены в совершаемом действии. Или \"Нет\", если ещё хотите обдумать совершаемое действие.",
                          "title": "Предупреждение",
                          "okLabel": "Да",
                          "cancelLabel": "Нет",
                          "modelLink": "models.resolve['contacts']",
                          "condition": "`true`",
                          "mode": "modal"
                        },
                        "validate": [
                          "contacts"
                        ]
                      }
                    ]
                  }
                ]
              },
              "header": {
                "id": "type.name",
                "fieldKey": "type.name",
                "src": "TextCell",
                "className": "text-muted"
              },
              "body": {
                "id": "value",
                "fieldKey": "value",
                "src": "TextCell"
              }
            },
            "paging": {
              "size": 5
            }
          }
        ],
        "headerTitle": "Контакты",
        "open": true,
        "collapsible": true,
        "fullScreen": false,
        "header": true
      },
      {
        "src": "PanelRegion",
        "id": "right_panel_2",
        "content": [
          {
            "src": "FormWidget",
            "id": "form",
            "datasource": "form",
            "form": {
              "fieldsets": [
                {
                  "src": "StandardFieldset",
                  "rows": [
                    {
                      "cols": [
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "surname",
                              "required": false,
                              "visible": true,
                              "enabled": true,
                              "label": "Фамилия",
                              "noLabelBlock": false,
                              "dependency": [],
                              "control": {
                                "src": "InputText",
                                "id": "surname"
                              }
                            }
                          ]
                        },
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "name",
                              "required": false,
                              "visible": true,
                              "enabled": true,
                              "label": "Имя",
                              "noLabelBlock": false,
                              "dependency": [],
                              "control": {
                                "src": "InputText",
                                "id": "name"
                              }
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "cols": [
                        {
                          "size": 8,
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "gender",
                              "required": false,
                              "visible": true,
                              "enabled": false,
                              "label": "Пол",
                              "noLabelBlock": false,
                              "dependency": [
                                {
                                  "type": "enabled",
                                  "on": [],
                                  "expression": "false",
                                  "applyOnInit": true
                                }
                              ],
                              "control": {
                                "src": "RadioGroup",
                                "id": "gender",
                                "valueFieldId": "id",
                                "labelFieldId": "name",
                                "sortFieldId": "name",
                                "size": 30,
                                "dataProvider": {
                                  "url": "n2o/data/ProtoGender",
                                  "queryMapping": {}
                                },
                                "inline": false,
                                "type": "default"
                              }
                            }
                          ]
                        },
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "style": {
                                "fontWeight": "bold"
                              },
                              "id": "vip",
                              "required": false,
                              "visible": true,
                              "enabled": false,
                              "noLabelBlock": false,
                              "dependency": [
                                {
                                  "type": "enabled",
                                  "on": [],
                                  "expression": "false",
                                  "applyOnInit": true
                                }
                              ],
                              "control": {
                                "src": "Checkbox",
                                "style": {
                                  "fontWeight": "bold"
                                },
                                "id": "vip",
                                "label": "VIP",
                                "defaultUnchecked": "null"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "modelPrefix": "resolve",
              "prompt": false,
              "autoFocus": false
            }
          }
        ],
        "headerTitle": "Карточка",
        "open": true,
        "collapsible": true,
        "fullScreen": false,
        "header": true
      }
    ]
  },
  "width": {
    "left": "60%"
  },
  "page": {
    "htmlTitle": "Список контактов"
  }
}
